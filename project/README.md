# Демонстрация аварийного восстановления вышедшей из строя ноды кластера веб сервиса с помощью системы оркестрации

## Требования:

Веб проект с развертыванием нескольких виртуальных машин должен отвечать следующим требованиям:
* включен https;
* основная инфраструктура в DMZ зоне;
* файрвалл на входе;
* сбор метрик и настроенный алертинг;
* везде включен selinux;
* организован централизованный сбор логов.

### Состав проекта

- 6 хостов.
- Развертывание происходит с помощь Ansible.
- На хостах включен файрвол :
	- Настроены необходимые службы и порты.
- На хостах включен SELinux:
	- Настроены необходимые контексты.


### Схема
![Scheme](https://github.com/dvmn-s/OTUS/blob/master/project/2024-11-10_20-51-31.png)


## Хосты

Хосты | IP адрес
------| ---------
Frontweb | 192.168.56.145 192.168.1.145
Backend1 | 192.168.56.222
Backend2 | 192.168.56.212
mastersdb | 192.168.56.69
slavesdb | 192.168.56.98
Monitoring | 192.168.56.60

### СХЕМА ПРОЕКТА

&ensp;&ensp; Развёртывание стенда осуществляется командой:
```shell
vagrant up
```
&ensp;&ensp;Запуск плейбука осуществляется командой:
```shell
ansible-playbook provision.yml
```

&ensp;&ensp; Пример использование тэгов ansible:
```shell
ansible-playbook --tags=preinstall,frontweb provision.yml
```



